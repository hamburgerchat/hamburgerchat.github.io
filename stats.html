<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hamburger ‚Äî –ò—Ç–æ–≥–∏ 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/gsap@3.12.0/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3.12.0/dist/ScrollTrigger.min.js"></script>
    <style>
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --border-color: #334155;
            --accent-color: #ff7f50;
            --accent-gradient: linear-gradient(135deg, #ff7f50, #ffcc70);
            --card-bg: #1e293b;
            --hover-bg: #334155;
            --danger-color: #ef4444;
            --success-color: #10b981;
            --bot-color: #34d399;
            --info-color: #3b82f6;
            --warning-color: #f59e0b;
            --purple-color: #8b5cf6;
            --pink-color: #ec4899;
            --slide-width: 100vw;
            --slide-height: 100vh;
        }

        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
            font-family: 'Inter', sans-serif; 
        }
        
        html {
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            overflow-y: scroll;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        html::-webkit-scrollbar {
            display: none;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }
        
        .slide {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .slide-content {
            max-width: 1200px;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 2;
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-dots {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1000;
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--text-tertiary);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .nav-dot.active {
            background: var(--accent-color);
            transform: scale(1.3);
            box-shadow: 0 0 15px rgba(255, 127, 80, 0.5);
        }
        
        .nav-dot:hover:not(.active) {
            background: var(--text-secondary);
            transform: scale(1.1);
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–∞–π–¥–∞ */
        .slide-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .slide-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* –°–ª–∞–π–¥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ */
        #slide1 {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
        }
        
        .hero-graphic {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.1;
        }
        
        .burger-icon {
            position: absolute;
            font-size: 15rem;
            color: var(--accent-color);
            opacity: 0.1;
            z-index: 1;
        }
        
        .burger-1 {
            top: 10%;
            right: 10%;
            animation: float 20s infinite ease-in-out;
        }
        
        .burger-2 {
            bottom: 10%;
            left: 10%;
            animation: float 25s infinite ease-in-out reverse;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .start-btn {
            padding: 1.2rem 2.5rem;
            background: var(--accent-gradient);
            color: white;
            border: none;
            border-radius: 1rem;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-top: 2rem;
            opacity: 0;
            transform: translateY(30px);
            box-shadow: 0 8px 25px rgba(255, 127, 80, 0.3);
        }
        
        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 127, 80, 0.4);
        }
        
        /* –°–ª–∞–π–¥ 2: –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        #slide2 {
            background: linear-gradient(135deg, #1e293b 0%, #312e81 100%);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 2rem;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(50px);
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            border-color: rgba(255, 127, 80, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin-bottom: 1.5rem;
            background: var(--accent-gradient);
        }
        
        .stat-value {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ff7f50, #ffcc70);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* –°–ª–∞–π–¥ 3: –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
        #slide3 {
            background: linear-gradient(135deg, #1e293b 0%, #1e3a8a 100%);
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-top: 2rem;
            height: 400px;
            opacity: 0;
            transform: translateX(100px);
        }
        
        /* –°–ª–∞–π–¥ 4: –¢–æ–ø —á–∞—Ç–æ–≤ */
        #slide4 {
            background: linear-gradient(135deg, #1e293b 0%, #4c1d95 100%);
        }
        
        .top-chats-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
            max-width: 800px;
        }
        
        .top-chat-item {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateX(-50px);
        }
        
        .top-chat-item:hover {
            transform: translateX(10px);
            border-color: rgba(255, 127, 80, 0.3);
        }
        
        .chat-rank {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: white;
            flex-shrink: 0;
        }
        
        .rank-1 { background: linear-gradient(135deg, #f59e0b, #fbbf24); }
        .rank-2 { background: linear-gradient(135deg, #94a3b8, #cbd5e1); }
        .rank-3 { background: linear-gradient(135deg, #92400e, #b45309); }
        .rank-other { background: linear-gradient(135deg, var(--purple-color), #a78bfa); }
        
        .chat-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
            background-size: cover;
            background-position: center;
        }
        
        .chat-info {
            flex: 1;
        }
        
        .chat-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }
        
        .chat-stats {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* –°–ª–∞–π–¥ 5: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
        #slide5 {
            background: linear-gradient(135deg, #1e293b 0%, #0c4a6e 100%);
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .achievement-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 1.8rem;
            transition: all 0.3s ease;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .achievement-card:hover {
            transform: scale(1.05);
            border-color: rgba(255, 127, 80, 0.3);
        }
        
        .achievement-icon {
            width: 70px;
            height: 70px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            margin-bottom: 1.2rem;
            background: var(--accent-gradient);
        }
        
        .achievement-name {
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        
        .achievement-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 4px;
            transition: width 1.5s ease-out;
        }
        
        /* –°–ª–∞–π–¥ 6: –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥ */
        #slide6 {
            background: linear-gradient(135deg, #1e293b 0%, #064e3b 100%);
            text-align: center;
        }
        
        .final-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
            margin: 3rem 0;
        }
        
        .final-stat {
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .final-value {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ff7f50, #ffcc70);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
        }
        
        .final-label {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .share-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        
        .share-btn {
            padding: 1rem 2rem;
            border-radius: 1rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1rem;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .share-btn.telegram {
            background: #0088cc;
            color: white;
        }
        
        .share-btn.whatsapp {
            background: #25D366;
            color: white;
        }
        
        .share-btn.restart {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .share-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .animated {
            opacity: 0;
        }
        
        .slide-visible .animated {
            opacity: 1;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        .scroll-hint {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: var(--text-secondary);
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            z-index: 1000;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }
        
        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s ease;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ */
        @media (max-width: 768px) {
            .slide {
                padding: 1rem;
                height: 100vh;
                scroll-snap-align: start;
            }
            
            .slide-title {
                font-size: 2.2rem;
                text-align: center;
            }
            
            .slide-subtitle {
                font-size: 1rem;
                text-align: center;
            }
            
            .nav-dots {
                right: 1rem;
                gap: 0.7rem;
            }
            
            .nav-dot {
                width: 10px;
                height: 10px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .stat-card {
                padding: 1.5rem;
            }
            
            .stat-value {
                font-size: 2.5rem;
            }
            
            .chart-container {
                height: 300px;
                padding: 1rem;
            }
            
            .top-chat-item {
                padding: 1rem;
                gap: 1rem;
            }
            
            .chat-rank {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .chat-avatar {
                width: 40px;
                height: 40px;
            }
            
            .achievements-grid {
                grid-template-columns: 1fr;
            }
            
            .final-stats {
                gap: 1.5rem;
            }
            
            .final-value {
                font-size: 3rem;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .share-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .burger-icon {
                font-size: 8rem;
            }
            
            .scroll-hint {
                font-size: 0.8rem;
                bottom: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .slide-title {
                font-size: 1.8rem;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .stat-icon {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .chat-stats {
                flex-direction: column;
                gap: 0.3rem;
            }
            
            .final-value {
                font-size: 2.5rem;
            }
            
            .burger-icon {
                font-size: 6rem;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div>–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞—à—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É 2025...</div>
    </div>
    
    <!-- –°–ª–∞–π–¥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <section class="slide" id="slide1">
        <div class="hero-graphic"></div>
        <div class="burger-icon burger-1">üçî</div>
        <div class="burger-icon burger-2">üçî</div>
        
        <div class="slide-content">
            <h1 class="slide-title animated">–í–∞—à 2025 –≥–æ–¥ –≤ <span style="color: #ff7f50">Hamburger</span></h1>
            <p class="slide-subtitle animated">
                –û—Ç–∫—Ä–æ–π—Ç–µ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∞—à–µ–≥–æ –æ–±—â–µ–Ω–∏—è –∑–∞ –≥–æ–¥. 
                –£–∑–Ω–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏, –∫–∞–∫–∏–µ —á–∞—Ç—ã –±—ã–ª–∏ —Å–∞–º—ã–º–∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ 
                –∏ –∫–∞–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—É—á–∏–ª–∏.
            </p>
            <button class="start-btn animated" id="startBtn">
                <i class="fas fa-rocket"></i>
                –ü–æ–∫–∞–∑–∞—Ç—å –º–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            </button>
        </div>
        
        <div class="scroll-hint animated">
            <span>–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑</span>
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>
    
    <!-- –°–ª–∞–π–¥ 2: –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <section class="slide" id="slide2">
        <div class="slide-content">
            <h2 class="slide-title animated">–¶–∏—Ñ—Ä—ã –≥–æ–≤–æ—Ä—è—Ç —Å–∞–º–∏ –∑–∞ —Å–µ–±—è</h2>
            <p class="slide-subtitle animated">–í–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ü–∏—Ñ—Ä–∞—Ö –∑–∞ 2025 –≥–æ–¥</p>
            
            <div class="stats-grid">
                <div class="stat-card animated" data-delay="0">
                    <div class="stat-icon">
                        <i class="fas fa-comment"></i>
                    </div>
                    <div class="stat-value" id="totalMessages">0</div>
                    <div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ</div>
                </div>
                
                <div class="stat-card animated" data-delay="0.1">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value" id="totalChats">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</div>
                </div>
                
                <div class="stat-card animated" data-delay="0.2">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-value" id="totalHours">0 —á</div>
                    <div class="stat-label">–í—Ä–µ–º—è –≤ —Å–µ—Ç–∏</div>
                </div>
                
                <div class="stat-card animated" data-delay="0.3">
                    <div class="stat-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="stat-value" id="totalReactions">0</div>
                    <div class="stat-label">–†–µ–∞–∫—Ü–∏–π –ø–æ–ª—É—á–µ–Ω–æ</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- –°–ª–∞–π–¥ 3: –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
    <section class="slide" id="slide3">
        <div class="slide-content">
            <h2 class="slide-title animated">–í–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º</h2>
            <p class="slide-subtitle animated">–ö–æ–≥–¥–∞ –≤—ã –±—ã–ª–∏ –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã –≤ 2025 –≥–æ–¥—É</p>
            
            <div class="chart-container animated">
                <canvas id="monthlyChart"></canvas>
            </div>
        </div>
    </section>
    
    <!-- –°–ª–∞–π–¥ 4: –¢–æ–ø —á–∞—Ç–æ–≤ -->
    <section class="slide" id="slide4">
        <div class="slide-content">
            <h2 class="slide-title animated">–¢–æ–ø-5 —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</h2>
            <p class="slide-subtitle animated">–ß–∞—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –æ–±—â–∞–ª–∏—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ</p>
            
            <div class="top-chats-container" id="topChatsContainer">
                <!-- –ß–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </section>
    
    <!-- –°–ª–∞–π–¥ 5: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    <section class="slide" id="slide5">
        <div class="slide-content">
            <h2 class="slide-title animated">–í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
            <p class="slide-subtitle animated">–ù–∞–≥—Ä–∞–¥—ã –∑–∞ –≤–∞—à—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ 2025 –≥–æ–¥—É</p>
            
            <div class="achievements-grid" id="achievementsGrid">
                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </section>
    
    <!-- –°–ª–∞–π–¥ 6: –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥ -->
    <section class="slide" id="slide6">
        <div class="slide-content">
            <h2 class="slide-title animated">–û—Ç–ª–∏—á–Ω—ã–π –≥–æ–¥!</h2>
            <p class="slide-subtitle animated">–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç–µ Hamburger –ª—É—á—à–µ —Å –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º</p>
            
            <div class="final-stats">
                <div class="final-stat animated" data-delay="0">
                    <div class="final-value" id="finalMessages">0</div>
                    <div class="final-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
                </div>
                <div class="final-stat animated" data-delay="0.1">
                    <div class="final-value" id="finalChats">0</div>
                    <div class="final-label">–ß–∞—Ç–æ–≤</div>
                </div>
                <div class="final-stat animated" data-delay="0.2">
                    <div class="final-value" id="finalDays">0</div>
                    <div class="final-label">–î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
                </div>
            </div>
            
            <div class="share-buttons">
                <button class="share-btn telegram animated" data-delay="0">
                    <i class="fab fa-telegram"></i>
                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ Telegram
                </button>
                <button class="share-btn whatsapp animated" data-delay="0.1">
                    <i class="fab fa-whatsapp"></i>
                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ WhatsApp
                </button>
                <button class="share-btn restart animated" data-delay="0.2" id="restartBtn">
                    <i class="fas fa-redo"></i>
                    –ù–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞
                </button>
            </div>
        </div>
    </section>
    
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ -->
    <div class="nav-dots" id="navDots">
        <div class="nav-dot active" data-slide="1"></div>
        <div class="nav-dot" data-slide="2"></div>
        <div class="nav-dot" data-slide="3"></div>
        <div class="nav-dot" data-slide="4"></div>
        <div class="nav-dot" data-slide="5"></div>
        <div class="nav-dot" data-slide="6"></div>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const firebaseConfig = {
            databaseURL: "https://hamburgerchat-e8f2a-default-rtdb.firebaseio.com/"
        };
        
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const database = firebase.database();
        
        const ENCRYPTION_KEY = "HamburgerSecureKey2024!";
        
        let currentUser = null;
        let currentUserId = null;
        let currentYear = 2025;
        let monthlyChart = null;
        let userStats = null;
        let currentSlide = 1;
        let isGenerating = false;

        // GSAP –∞–Ω–∏–º–∞—Ü–∏–∏
        gsap.registerPlugin(ScrollTrigger);

        // –§—É–Ω–∫—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
        function encryptData(data) {
            return CryptoJS.AES.encrypt(JSON.stringify(data), ENCRYPTION_KEY).toString();
        }
        
        function decryptData(encryptedData) {
            try {
                const bytes = CryptoJS.AES.decrypt(encryptedData, ENCRYPTION_KEY);
                const decrypted = bytes.toString(CryptoJS.enc.Utf8);
                return decrypted ? JSON.parse(decrypted) : null;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:', e);
                return null;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', async () => {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            currentUser = localStorage.getItem('hamburger_user');
            currentUserId = localStorage.getItem('hamburger_user_id');
            
            if (!currentUser || !currentUserId) {
                window.location.href = 'https://hamburgerchat.github.io/';
                return;
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            setupNavigation();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä–æ–ª–ª–∞
            setupScroll();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            setTimeout(loadStatistics, 500);
        });

        function setupEventListeners() {
            // –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞
            document.getElementById('startBtn').addEventListener('click', loadStatistics);
            
            // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
            document.getElementById('restartBtn').addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // –ö–Ω–æ–ø–∫–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è
            document.querySelector('.share-btn.telegram').addEventListener('click', shareToTelegram);
            document.querySelector('.share-btn.whatsapp').addEventListener('click', shareToWhatsApp);
        }

        function setupNavigation() {
            const dots = document.querySelectorAll('.nav-dot');
            
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const slideNum = parseInt(this.dataset.slide);
                    goToSlide(slideNum);
                });
            });
        }

        function setupScroll() {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∏–¥–∏–º—ã–π —Å–ª–∞–π–¥ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
            window.addEventListener('scroll', () => {
                const scrollPosition = window.scrollY;
                const windowHeight = window.innerHeight;
                const slideHeight = windowHeight;
                
                currentSlide = Math.floor(scrollPosition / slideHeight) + 1;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Ç–æ—á–∫—É
                updateActiveDot();
                
                // –ê–Ω–∏–º–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Ç–µ–∫—É—â–µ–º —Å–ª–∞–π–¥–µ
                animateSlideElements(currentSlide);
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GSAP ScrollTrigger
            gsap.utils.toArray('.slide').forEach((slide, i) => {
                ScrollTrigger.create({
                    trigger: slide,
                    start: "top top",
                    end: "bottom top",
                    onEnter: () => {
                        currentSlide = i + 1;
                        updateActiveDot();
                        animateSlideElements(currentSlide);
                    },
                    onEnterBack: () => {
                        currentSlide = i + 1;
                        updateActiveDot();
                        animateSlideElements(currentSlide);
                    }
                });
            });
        }

        function updateActiveDot() {
            const dots = document.querySelectorAll('.nav-dot');
            dots.forEach(dot => {
                const slideNum = parseInt(dot.dataset.slide);
                dot.classList.toggle('active', slideNum === currentSlide);
            });
        }

        function goToSlide(slideNum) {
            const slide = document.getElementById(`slide${slideNum}`);
            if (slide) {
                slide.scrollIntoView({ behavior: 'smooth' });
                currentSlide = slideNum;
                updateActiveDot();
                animateSlideElements(slideNum);
            }
        }

        function animateSlideElements(slideNum) {
            const slide = document.getElementById(`slide${slideNum}`);
            if (!slide || slide.classList.contains('animated-done')) return;
            
            slide.classList.add('animated-done');
            
            const animatedElements = slide.querySelectorAll('.animated');
            
            animatedElements.forEach((el, index) => {
                const delay = el.dataset.delay || (index * 0.1);
                
                gsap.fromTo(el, 
                    { 
                        opacity: 0, 
                        y: 30,
                        scale: 0.8 
                    },
                    { 
                        opacity: 1, 
                        y: 0,
                        scale: 1,
                        duration: 0.8,
                        delay: parseFloat(delay),
                        ease: "back.out(1.7)"
                    }
                );
            });
        }

        async function loadStatistics() {
            if (isGenerating) return;
            isGenerating = true;
            
            const startBtn = document.getElementById('startBtn');
            startBtn.disabled = true;
            startBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∂–∞–µ–º...';
            
            try {
                userStats = await collectStatistics();
                displayStatistics();
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                gsap.to('#loadingOverlay', {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                        document.getElementById('loadingOverlay').style.display = 'none';
                    }
                });
                
                // –ê–Ω–∏–º–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π —Å–ª–∞–π–¥
                animateSlideElements(1);
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫–æ –≤—Ç–æ—Ä–æ–º—É —Å–ª–∞–π–¥—É
                setTimeout(() => {
                    goToSlide(2);
                }, 1500);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            } finally {
                isGenerating = false;
                startBtn.disabled = false;
                startBtn.innerHTML = '<i class="fas fa-rocket"></i> –ü–æ–∫–∞–∑–∞—Ç—å –º–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É';
            }
        }

        async function collectStatistics() {
            const stats = {
                totalMessages: 0,
                totalChats: 0,
                totalHours: 0,
                totalReactions: 0,
                receivedReactions: 0,
                sentReactions: 0,
                activeDays: 0,
                monthlyData: Array(12).fill(0),
                topChats: [],
                achievements: []
            };
            
            // –ü–æ–ª—É—á–∞–µ–º —á–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userChatsRef = database.ref(`userChats/${currentUserId}`);
            const userChatsSnapshot = await userChatsRef.once('value');
            
            if (!userChatsSnapshot.exists()) {
                return stats;
            }
            
            const userChats = userChatsSnapshot.val();
            const chatIds = Object.keys(userChats).filter(id => id !== 'L');
            
            stats.totalChats = chatIds.length;
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —á–∞—Ç–∞–º
            const activeDaysSet = new Set();
            
            for (const chatId of chatIds) {
                try {
                    const chatStats = await analyzeChat(chatId, activeDaysSet);
                    
                    stats.totalMessages += chatStats.messages;
                    stats.totalReactions += chatStats.reactions;
                    stats.monthlyData = stats.monthlyData.map((val, idx) => val + chatStats.monthlyData[idx]);
                    
                    if (chatStats.messages > 0) {
                        stats.topChats.push({
                            id: chatId,
                            name: chatStats.name,
                            type: chatStats.type,
                            messageCount: chatStats.messages,
                            avatar: chatStats.avatar
                        });
                    }
                    
                } catch (error) {
                    console.error(`–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —á–∞—Ç–∞ ${chatId}:`, error);
                }
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            stats.activeDays = activeDaysSet.size;
            stats.totalHours = Math.round(stats.totalMessages * 0.5 / 60);
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–ø —á–∞—Ç–æ–≤
            stats.topChats.sort((a, b) => b.messageCount - a.messageCount);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            determineAchievements(stats);
            
            return stats;
        }

        async function analyzeChat(chatId, activeDaysSet) {
            const result = {
                name: '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
                type: 'private',
                messages: 0,
                reactions: 0,
                monthlyData: Array(12).fill(0),
                avatar: null
            };
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —á–∞—Ç–∞
            const chatRef = database.ref(`chats/${chatId}`);
            const chatSnapshot = await chatRef.once('value');
            
            if (chatSnapshot.exists()) {
                const chatData = chatSnapshot.val();
                const decryptedData = decryptData(chatData.encryptedData);
                
                if (decryptedData) {
                    result.name = decryptedData.name || result.name;
                    result.type = decryptedData.type || result.type;
                    result.avatar = decryptedData.avatar;
                }
            }
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
            const messagesRef = database.ref(`messages/${chatId}`);
            const messagesSnapshot = await messagesRef.once('value');
            
            if (messagesSnapshot.exists()) {
                const messages = messagesSnapshot.val();
                
                for (const messageId in messages) {
                    const messageData = messages[messageId];
                    const decryptedMessage = decryptData(messageData.encryptedData) || messageData;
                    
                    if (!decryptedMessage || !decryptedMessage.timestamp) continue;
                    
                    const messageDate = new Date(decryptedMessage.timestamp);
                    if (messageDate.getFullYear() !== currentYear) continue;
                    
                    // –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    if (decryptedMessage.sender === currentUserId) {
                        result.messages++;
                        
                        // –ú–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        const month = messageDate.getMonth();
                        result.monthlyData[month]++;
                        
                        // –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏
                        const dateStr = messageDate.toDateString();
                        activeDaysSet.add(dateStr);
                    }
                    
                    // –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    if (decryptedMessage.sender === currentUserId && decryptedMessage.reactions) {
                        for (const users of Object.values(decryptedMessage.reactions)) {
                            const userList = Array.isArray(users) ? users : [];
                            result.reactions += userList.length;
                        }
                    }
                }
            }
            
            return result;
        }

        function determineAchievements(stats) {
            stats.achievements = [];
            
            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
            if (stats.totalMessages >= 1000) {
                stats.achievements.push({
                    name: '–ú–∞—Å—Ç–µ—Ä –æ–±—â–µ–Ω–∏—è',
                    description: '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ–ª–µ–µ 1000 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ 2025 –≥–æ–¥—É',
                    icon: 'fas fa-comments',
                    progress: 100,
                    unlocked: true
                });
            } else if (stats.totalMessages >= 500) {
                stats.achievements.push({
                    name: '–ê–∫—Ç–∏–≤–Ω—ã–π —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫',
                    description: '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ–ª–µ–µ 500 —Å–æ–æ–±—â–µ–Ω–∏–π',
                    icon: 'fas fa-comment',
                    progress: 100,
                    unlocked: true
                });
            } else {
                const progress = Math.min((stats.totalMessages / 500) * 100, 100);
                stats.achievements.push({
                    name: '–ù–∞—á–∏–Ω–∞—é—â–∏–π',
                    description: '–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!',
                    icon: 'fas fa-comment',
                    progress: progress,
                    unlocked: progress >= 100
                });
            }
            
            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ —á–∞—Ç–∞–º
            if (stats.totalChats >= 10) {
                stats.achievements.push({
                    name: '–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –±–∞–±–æ—á–∫–∞',
                    description: '–ê–∫—Ç–∏–≤–µ–Ω –≤ 10+ —á–∞—Ç–∞—Ö',
                    icon: 'fas fa-users',
                    progress: 100,
                    unlocked: true
                });
            } else {
                const progress = Math.min((stats.totalChats / 10) * 100, 100);
                stats.achievements.push({
                    name: '–í—ã–±–∏—Ä–∞—é –æ–∫—Ä—É–∂–µ–Ω–∏–µ',
                    description: '–ê–∫—Ç–∏–≤–µ–Ω –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Ç–∞—Ö',
                    icon: 'fas fa-user-friends',
                    progress: progress,
                    unlocked: progress >= 100
                });
            }
            
            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
            if (stats.activeDays >= 300) {
                stats.achievements.push({
                    name: '–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                    description: '–ê–∫—Ç–∏–≤–µ–Ω –±–æ–ª–µ–µ 300 –¥–Ω–µ–π –≤ –≥–æ–¥—É',
                    icon: 'fas fa-calendar-check',
                    progress: 100,
                    unlocked: true
                });
            } else if (stats.activeDays >= 150) {
                stats.achievements.push({
                    name: '–†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å',
                    description: '–ê–∫—Ç–∏–≤–µ–Ω –±–æ–ª–µ–µ 150 –¥–Ω–µ–π',
                    icon: 'fas fa-calendar',
                    progress: 100,
                    unlocked: true
                });
            } else {
                const progress = Math.min((stats.activeDays / 150) * 100, 100);
                stats.achievements.push({
                    name: '–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                    description: '–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∑–∞—Ö–æ–¥–∏—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!',
                    icon: 'fas fa-calendar-day',
                    progress: progress,
                    unlocked: progress >= 100
                });
            }
            
            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ —Ä–µ–∞–∫—Ü–∏—è–º
            if (stats.totalReactions >= 100) {
                stats.achievements.push({
                    name: '–°–µ—Ä–¥—Ü–µ Hamburger',
                    description: '–ü–æ–ª—É—á–∏–ª –±–æ–ª–µ–µ 100 —Ä–µ–∞–∫—Ü–∏–π',
                    icon: 'fas fa-heart',
                    progress: 100,
                    unlocked: true
                });
            } else if (stats.totalReactions > 0) {
                const progress = Math.min((stats.totalReactions / 100) * 100, 100);
                stats.achievements.push({
                    name: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫',
                    description: '–í–∞—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω—Ä–∞–≤—è—Ç—Å—è –¥—Ä—É–≥–∏–º',
                    icon: 'fas fa-heart',
                    progress: progress,
                    unlocked: progress >= 100
                });
            }
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
            if (stats.totalMessages >= 500 && stats.activeDays >= 200) {
                stats.achievements.push({
                    name: '–õ–µ–≥–µ–Ω–¥–∞ Hamburger',
                    description: '–í—ã–¥–∞—é—â–∞—è—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞',
                    icon: 'fas fa-crown',
                    progress: 100,
                    unlocked: true
                });
            }
        }

        function displayStatistics() {
            if (!userStats) return;
            
            // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('totalMessages').textContent = userStats.totalMessages.toLocaleString();
            document.getElementById('totalChats').textContent = userStats.totalChats;
            document.getElementById('totalHours').textContent = userStats.totalHours + ' —á';
            document.getElementById('totalReactions').textContent = userStats.totalReactions;
            
            // –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('finalMessages').textContent = userStats.totalMessages.toLocaleString();
            document.getElementById('finalChats').textContent = userStats.totalChats;
            document.getElementById('finalDays').textContent = userStats.activeDays;
            
            // –ì—Ä–∞—Ñ–∏–∫
            createMonthlyChart();
            
            // –¢–æ–ø —á–∞—Ç–æ–≤
            displayTopChats();
            
            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            displayAchievements();
            
            // –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∏—Å–ª–∞
            animateNumbers();
        }

        function createMonthlyChart() {
            const ctx = document.getElementById('monthlyChart').getContext('2d');
            const monthNames = ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω', '–ò—é–ª', '–ê–≤–≥', '–°–µ–Ω', '–û–∫—Ç', '–ù–æ—è', '–î–µ–∫'];
            
            if (monthlyChart) {
                monthlyChart.destroy();
            }
            
            monthlyChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: monthNames,
                    datasets: [{
                        label: '–°–æ–æ–±—â–µ–Ω–∏–π',
                        data: userStats.monthlyData,
                        backgroundColor: 'rgba(255, 127, 80, 0.1)',
                        borderColor: '#ff7f50',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#ff7f50',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#ff7f50',
                            borderWidth: 1,
                            cornerRadius: 8
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#cbd5e1'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#cbd5e1',
                                precision: 0
                            }
                        }
                    }
                }
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
            gsap.from('.chart-container', {
                x: 100,
                opacity: 0,
                duration: 1,
                delay: 0.3,
                ease: "power3.out"
            });
        }

        function displayTopChats() {
            const container = document.getElementById('topChatsContainer');
            container.innerHTML = '';
            
            const topChats = userStats.topChats.slice(0, 5);
            
            if (topChats.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                        <i class="fas fa-comments" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <div>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –∑–∞ 2025 –≥–æ–¥</div>
                    </div>
                `;
                return;
            }
            
            topChats.forEach((chat, index) => {
                const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : 'rank-other';
                
                const chatElement = document.createElement('div');
                chatElement.className = 'top-chat-item animated';
                chatElement.dataset.delay = index * 0.1;
                
                chatElement.innerHTML = `
                    <div class="chat-rank ${rankClass}">${index + 1}</div>
                    <div class="chat-avatar" style="${chat.avatar ? `background-image: url(${chat.avatar})` : ''}">
                        ${chat.avatar ? '' : chat.name.charAt(0).toUpperCase()}
                    </div>
                    <div class="chat-info">
                        <div class="chat-name">${chat.name}</div>
                        <div class="chat-stats">
                            <span>${chat.messageCount} —Å–æ–æ–±—â–µ–Ω–∏–π</span>
                            <span>‚Ä¢</span>
                            <span>${getChatTypeName(chat.type)}</span>
                        </div>
                    </div>
                `;
                
                chatElement.addEventListener('click', () => {
                    window.open(`https://hamburgerchat.github.io/chat.html?id=${chat.id}`, '_blank');
                });
                
                container.appendChild(chatElement);
            });
        }

        function getChatTypeName(type) {
            const types = {
                'private': '–õ–∏—á–Ω—ã–π —á–∞—Ç',
                'group': '–ì—Ä—É–ø–ø–∞',
                'channel': '–ö–∞–Ω–∞–ª',
                'bot': '–ë–æ—Ç'
            };
            return types[type] || type;
        }

        function displayAchievements() {
            const container = document.getElementById('achievementsGrid');
            container.innerHTML = '';
            
            userStats.achievements.forEach((achievement, index) => {
                const achievementElement = document.createElement('div');
                achievementElement.className = 'achievement-card animated';
                achievementElement.dataset.delay = index * 0.15;
                
                achievementElement.innerHTML = `
                    <div class="achievement-icon">
                        <i class="${achievement.icon}"></i>
                    </div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-desc">${achievement.description}</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${achievement.progress}%"></div>
                    </div>
                    ${achievement.unlocked ? 
                        '<div style="margin-top: 1rem; color: #ffcc70; font-size: 0.9rem;"><i class="fas fa-check"></i> –ü–æ–ª—É—á–µ–Ω–æ</div>' : 
                        '<div style="margin-top: 1rem; color: #94a3b8; font-size: 0.9rem;"><i class="fas fa-lock"></i> –í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>'
                    }
                `;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
                setTimeout(() => {
                    const progressFill = achievementElement.querySelector('.progress-fill');
                    gsap.from(progressFill, {
                        width: 0,
                        duration: 1.5,
                        delay: 0.5,
                        ease: "power2.out"
                    });
                }, index * 200);
                
                container.appendChild(achievementElement);
            });
        }

        function animateNumbers() {
            // –ê–Ω–∏–º–∞—Ü–∏—è —á–∏—Å–µ–ª –Ω–∞ –≤—Ç–æ—Ä–æ–º —Å–ª–∞–π–¥–µ
            gsap.utils.toArray('.stat-value').forEach((element, index) => {
                const finalValue = parseInt(element.textContent.replace(/,/g, ''));
                
                gsap.from(element, {
                    textContent: 0,
                    duration: 2,
                    delay: 0.5 + (index * 0.2),
                    ease: "power2.out",
                    snap: { textContent: 1 },
                    onUpdate: function() {
                        const value = Math.floor(this.targets()[0].textContent);
                        element.textContent = value.toLocaleString() + (element.id === 'totalHours' ? ' —á' : '');
                    }
                });
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —á–∏—Å–µ–ª –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Å–ª–∞–π–¥–µ
            gsap.utils.toArray('.final-value').forEach((element, index) => {
                const finalValue = parseInt(element.textContent.replace(/,/g, ''));
                
                gsap.from(element, {
                    textContent: 0,
                    duration: 2,
                    delay: 0.8 + (index * 0.3),
                    ease: "power2.out",
                    snap: { textContent: 1 },
                    onUpdate: function() {
                        const value = Math.floor(this.targets()[0].textContent);
                        element.textContent = value.toLocaleString();
                    }
                });
            });
        }

        function shareToTelegram() {
            const text = `üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ Hamburger –∑–∞ 2025 –≥–æ–¥:
            
üí¨ –°–æ–æ–±—â–µ–Ω–∏–π: ${userStats.totalMessages.toLocaleString()}
üë• –ß–∞—Ç–æ–≤: ${userStats.totalChats}
‚è∞ –í —Å–µ—Ç–∏: ${userStats.totalHours} —á–∞—Å–æ–≤
‚ù§Ô∏è –†–µ–∞–∫—Ü–∏–π: ${userStats.totalReactions}
üìÖ –î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: ${userStats.activeDays}

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É!`;
            
            const url = `https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(text)}`;
            window.open(url, '_blank');
        }

        function shareToWhatsApp() {
            const text = `üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ Hamburger –∑–∞ 2025 –≥–æ–¥:
            
üí¨ –°–æ–æ–±—â–µ–Ω–∏–π: ${userStats.totalMessages.toLocaleString()}
üë• –ß–∞—Ç–æ–≤: ${userStats.totalChats}
‚è∞ –í —Å–µ—Ç–∏: ${userStats.totalHours} —á–∞—Å–æ–≤
‚ù§Ô∏è –†–µ–∞–∫—Ü–∏–π: ${userStats.totalReactions}
üìÖ –î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: ${userStats.activeDays}

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É!`;
            
            const url = `https://wa.me/?text=${encodeURIComponent(text)}`;
            window.open(url, '_blank');
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        gsap.from('.slide-title', {
            opacity: 0,
            y: 50,
            duration: 1,
            delay: 0.5,
            ease: "power3.out"
        });

        gsap.from('.slide-subtitle', {
            opacity: 0,
            y: 30,
            duration: 1,
            delay: 0.7,
            ease: "power3.out"
        });

        gsap.from('.start-btn', {
            opacity: 0,
            y: 30,
            duration: 1,
            delay: 0.9,
            ease: "power3.out"
        });

        gsap.from('.scroll-hint', {
            opacity: 0,
            duration: 1,
            delay: 1.5,
            ease: "power2.inOut"
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –±—É—Ä–≥–µ—Ä–æ–≤
        gsap.to('.burger-1', {
            rotation: 360,
            duration: 40,
            repeat: -1,
            ease: "none"
        });

        gsap.to('.burger-2', {
            rotation: -360,
            duration: 50,
            repeat: -1,
            ease: "none"
        });
    </script>
</body>
</html>
